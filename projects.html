<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Analytics Projects â€“ Hiten Ladkani - Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-39c1d74b03db616a548acb4b708e985f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
  /* GLOBAL STYLES ONLY - Applied to all pages */
  .navbar-dark {
    background-color: #1e3a8a !important;
  }
  .navbar-dark .navbar-nav .nav-link {
    color: white !important;
  }
  .navbar-dark .navbar-nav .nav-link:hover {
    color: #bfdbfe !important;
  }
  body {
    background-color: #0f172a;
    color: #e2e8f0;
  }
  a {
    color: #60a5fa;
  }
  a:hover {
    color: #93c5fd;
  }
  .nav-pills .nav-link.active {
    background-color: #1e3a8a !important;
    border-color: #1e3a8a !important;
  }
  .nav-pills .nav-link {
    color: #60a5fa !important;
  }
  
  /* Custom Tableau icon styling if needed */
  .fa-chart-bar::before {
    content: "ðŸ“Š";
  }
</style>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Hiten Ladkani - Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./projects.html" aria-current="page"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/hiten317"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/hiten-ladkani"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://public.tableau.com/app/profile/hiten.ladkani/vizzes"> <i class="bi bi-chart-bar" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ecommerce-sales" id="toc-ecommerce-sales" class="nav-link active" data-scroll-target="#ecommerce-sales">Ecommerce Sales Attribution and Marketing Segmentation</a></li>
  <li><a href="#ab-testing" id="toc-ab-testing" class="nav-link" data-scroll-target="#ab-testing">A/B Testing of Advertising Campaign Results</a></li>
  <li><a href="#nhl-salary" id="toc-nhl-salary" class="nav-link" data-scroll-target="#nhl-salary">NHL Player Salary Prediction Analysis</a></li>
  <li><a href="#covid-analysis" id="toc-covid-analysis" class="nav-link" data-scroll-target="#covid-analysis">Covid-19 Testing Capacity and Resource Allocation Analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Analytics Projects</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></p>
<style>
/* Projects Page Styling */
.projects-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.projects-grid {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 3rem;
}

.project-item {
  background: #1e293b;
  border-radius: 12px;
  border: 1px solid #334155;
  transition: all 0.3s ease;
}

.project-item:hover {
  border-color: #60a5fa;
}

.project-card {
  padding: 0;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
}

.project-card-content {
  display: flex;
  align-items: center;
  gap: 2rem;
  padding: 2rem;
}

.project-cover {
  width: 200px;
  height: 150px;
  background: linear-gradient(135deg, #0f172a, #1e293b);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  flex-shrink: 0;
  overflow: hidden;
}

.project-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.project-card:hover .project-cover img {
  transform: scale(1.05);
}

.cover-placeholder {
  color: #64748b;
  font-size: 2.5rem;
}

.project-info {
  flex: 1;
}

.project-title {
  margin-bottom: 0.5rem;
}

.project-title h3 {
  color: #e2e8f0;
  margin: 0;
  font-size: 1.5rem;
}

.project-description-short {
  color: #cbd5e1;
  margin-bottom: 1rem;
  line-height: 1.5;
}

.project-links {
  display: flex;
  gap: 1rem;
}

.project-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: #1e3a8a;
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.project-link:hover {
  background: #1d4ed8;
  transform: translateY(-2px);
  color: white;
  text-decoration: none;
}

/* Project Details Styling */
.project-details {
  max-height: 0;
  overflow: hidden;
  transition: all 0.5s ease;
  background: #0f172a;
}

.project-details.active {
  max-height: none; /* CHANGED FROM 2000px to none */
}

.details-content {
  padding: 0 2rem 2rem 2rem;
}

.accordion {
  border-bottom: 1px solid #334155;
  margin-bottom: 1rem;
}

.accordion:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.accordion-header {
  padding: 1.5rem 0;
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: color 0.3s ease;
}

.accordion-header:hover {
  color: #60a5fa;
}

.accordion-header::after {
  content: '+';
  font-size: 1.5rem;
  color: #60a5fa;
  transition: transform 0.3s ease;
}

.accordion-header.active::after {
  content: 'âˆ’';
}

.accordion-content {
  padding: 0;
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.accordion-content.active {
  padding: 0 0 1.5rem 0;
  max-height: none; 
  overflow-y: visible; 
}

.content-section {
  margin-bottom: 1.5rem;
}

.content-section h4 {
  color: #60a5fa;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.content-section p {
  color: #cbd5e1;
  line-height: 1.6;
  margin: 0;
}

.presentation-container {
  background: #1e293b;
  border-radius: 8px;
  padding: 1.5rem;
  border: 1px solid #334155;
}

.placeholder-video {
  width: 100%;
  height: 400px;
  background: #0f172a;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #64748b;
  font-size: 1.1rem;
  border: 2px dashed #334155;
}

/* Active project styling */
.project-item.active {
  border-color: #60a5fa;
  box-shadow: 0 5px 20px rgba(96, 165, 250, 0.1);
}

.project-item.active .project-card {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

/* NEW STYLES FOR SECTION CONTENT */
.section-content {
  margin-bottom: 1.5rem;
}

.section-content h4 {
  color: #60a5fa;
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
  font-weight: 600;
}

.section-content p {
  color: #cbd5e1;
  line-height: 1.6;
  margin-bottom: 1rem;
}

.section-content img {
  max-width: 100%;
  border-radius: 8px;
  margin: 1rem 0;
  border: 1px solid #334155;
  display: block;
}

.section-content ul, .section-content ol {
  color: #cbd5e1;
  padding-left: 1.5rem;
  margin: 0.5rem 0 1rem 0;
}

.section-content li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.section-content strong {
  color: #93c5fd;
}

.section-content em {
  color: #94a3b8;
  font-style: italic;
}

@media (max-width: 768px) {
  .project-card-content {
    flex-direction: column;
    text-align: center;
    gap: 1rem;
  }
  
  .project-cover {
    width: 100%;
    max-width: 300px;
  }
}
</style>
<section id="ecommerce-sales" class="level1">
<h1>Ecommerce Sales Attribution and Marketing Segmentation</h1>
<div class="project-item" id="project-item-ecommerce">
  <div class="project-card" onclick="toggleProjectDetails('project-ecommerce')">
    <div class="project-card-content">
      <div class="project-cover">
        <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=80" alt="Ecommerce Analytics">
      </div>
      <div class="project-info">
        <div class="project-title">
          <h3 class="anchored" data-anchor-id="ecommerce-sales">Ecommerce Sales Attribution and Marketing Segmentation</h3>
        </div>
        <p class="project-description-short">
          Analyzing customer purchase patterns via an RFM model and marketing channel effectiveness to optimize sales attribution and create targeted customer segments for personalized marketing campaigns.
        </p>
        <div class="project-links">
          <a href="https://github.com/yourusername/ecommerce-attribution" class="project-link" onclick="event.stopPropagation()">
            <i class="fab fa-github"></i> GitHub
          </a>
          <a href="https://public.tableau.com/app/profile/hiten.ladkani/viz/SalesAttributionAudienceSegmentationDashboard/FinalDashboard?publish=yes" class="project-link" onclick="event.stopPropagation()">
            <i class="fas fa-chart-bar"></i> Tableau
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="project-ecommerce" class="project-details">
    <div class="details-content">
      <!-- PROJECT SCENARIO SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Project Scenario
        </button>
        <div class="accordion-content">
          <div class="section-content">
            <h4 class="anchored">Context and Overview</h4>
            <p>As a junior marketing data analyst for an e-commerce brand running on Shopify, my job is to analyze purchase and campaign data to identify what channels are driving most revenue, how different are purchase behaviors of various customer segments and if there are any untapped opportunities as well as how the business can improve further. </p>
            
            <h4 class="anchored">Key Objectives</h4>
            <ul>
              <li>Analyze sales performance metrics by channel for future budget allocation</li>
              <li>Identify customer segment profiles and analyze their purchase patterns</li>
              <li>Provide actionable recommendations for marketing channel mix and KPI improvements</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- BUSINESS PROBLEM SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Business Problem and Stakeholders Questions
        </button>
        <div class="accordion-content">
          <div class="section-content">
            <h4 class="anchored">Business Challenge</h4>
            <p>How can we clearly quantify each marketing channel impact on business outcomes and surface various customer segments for the brand by leveraging the Shopify transaction data as well as campaign data to optimize the marketing spend and personalize communication strategy for each customer segment? </p>
            
            <h4 class="anchored">Stakeholder Questions</h4>
            <ul>
              <li><strong>E-commerce Manager:</strong> Needs clear performance metrics by each channel to formulate future budget allocation.</li>
              <li><strong>Marketing Lead:</strong> Seeks insight into attribution models (first-touch, last-touch and multi-touch) to optimize campaigns and channel mix.</li>
              <li><strong>Merchandising Team:</strong> Wants clearly identified customer segment profiles to tailor site content and promotions.</li>
            </ul>
            
            <img src="images/business-problem.jpg" alt="Business Problem Visualization">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Visual representation of the business problem</em></p>
          </div>
        </div>
      </div>

      <!-- DATA REQUIREMENTS SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Requirements &amp; Gathering
        </button>
        <div class="accordion-content">
          <div class="section-content">
            <h4 class="anchored">Data Sources</h4>
            <ul>
              <li><strong>Orders table:</strong> This is the source table, and the table includes digital purchase transactions data. What was bought, when and how much. </li>
              <li><strong>DimAttribution:</strong> This is the dimension table which includes data on the traffic source in terms of marketing channel and which device the session was logged in</li>
              <li><strong>DimCustomer:</strong> Another dimension table that contains customer information. The orders table is the source of truth in this analysis, and the dimension tables will be joined to the source table to create our analytical base which will be the prep table.</li>
            </ul>
            
            <h4 class="anchored">Data Transformation &amp; Consolidation</h4>
            <p><strong>Prep Table</strong> - This table is prepared by using the RIGHT JOIN with the Orders table on the two dimension tables using order number as the reference key. 
            This provides attribution and customer information for each order number in the Orders table and those that have missing information are excluded. A quick data validation check is done to ensure that the prep table rows does not exceed order table rows in case of the RIGHT JOIN and in LEFT JOIN the row numbers should be equal.</p>
          </div>
        </div>
      </div>

      <!-- DATA CLEANING & TRANSFORMATION SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Cleaning &amp; Transformation
        </button>
        <div class="accordion-content">
          <div class="section-content">
            <h4 class="anchored">Exploring distribution of key metrics and scope of data (Exploratory Data Analysis)</h4>
            <p> i. <strong>Summary statistics of Order &amp; refund amounts:</strong>The order amounts distribution heavy right tail and most orders clustered on the left with higher skew on the left side because of refunded orders. At initial stage this suggests high number of one-time purchasers.</p>
            
            <img src="https://i.postimg.cc/hjPDcZqy/Image1.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Summary statistics</em></p>  

            <p> The refund amounts in the dataset is only 2, which reduces the scope of the analysis as we need not analyze these refund amounts since these numbers are expected in digital transactions.</p>

            <img src="https://i.postimg.cc/XvBhFwk7/Image2.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Summary statistics</em></p> 

            <p> ii. <strong>Scope of dataset and volume of orders by month:</strong>The data ranges from March 13th 2024 to 22nd July 2025, just over an year worth of data. </p>

            <img src="https://i.postimg.cc/P5Qb7NfY/Image3.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Dataset scope</em></p> 

            <img src="https://i.postimg.cc/yxhWNgbY/Image4.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Monthly orders</em></p> 

            <p>As typically observed in retail sales, correction happens after initial burst of sales after opening (assuming the brand opened its online store since March 2024) which has happened in this case as the sales in the 1st quarter of 2025 dropped to some extent. </p>

            <p> iii. <strong>Analyzing distribution of key metrics:</strong></p>

            <img src="https://i.postimg.cc/yxNY7QcL/Image5.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Order status distribution</em></p> 

            <p>Orders that have pending payment will be excluded from revenue and other analysis, so the results are not inflated.</p> 

            <img src="https://i.postimg.cc/h4HPkrh9/Image6.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Payment methods distribution</em></p> 

            <p>Most of the transactions have been completed through card and some of these categories can be collapsed into one to streamline analysis.</p>
            
            <img src="https://i.postimg.cc/Wb5T7LxM/Image7.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Orders by countries</em></p> 

            <p>Similar to the trend in order amounts, majority of the transactions have come from 7-8 countries and the distribution is similar with heavy right tail. </p> 

            <img src="https://i.postimg.cc/D0bLPPwn/Image8.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Attribution Channels</em></p>

            <p> Similar to payment methods, there are similar categories of channels which can be collapsed into one.</p>

            <img src="https://i.postimg.cc/SxXR2xjK/Image9.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Attribution Devices</em></p>
            
            <p> Desktop and mobile are the only two sources for this data and the duplicates need to be removed and combined into one. </p>

            <p> iv. <strong>Data Cleaning and Fixing fields:</strong>Fixing Attribution Sources and Devices to create clean columns</p>
            
            <img src="https://i.postimg.cc/rmT5NrtC/Imag10.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Attribution Channels</em></p>
          </div>
        </div>
      </div>

      <!-- DATA ANALYSIS SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Analysis
        </button>
        <div class="accordion-content">
          <div class="section-content">
            <h4 class="anchored">Shaping Data and Analysis</h4>
            <p>This is a critical stage where cleaned data is being transformed into analysis-ready views. This profiling will enable implementation of RFM segmentation of customers and cohort analysis to understand customer behavior, long-term value and loyalty for the business.</p>

            <p><strong>i. Revenue by Channel and Lifetime Value of customers:</strong>Order_count and Average Order value are also calculated for orders attributed to each channel to give a complete picture of contribution of a marketing channel</p>

            <img src="https://i.postimg.cc/pdcg9zcY/Image11.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Revenue and AOV</em></p>

            <p>Almost 87% of the total revenue is coming from the top 3 channels and just over 42% of it comes organically, which suggests that the brand and its products are quite popular among customers. YouTube (OLV or CTV channel) as a platform has turned out to be good contributor to the revenue and so has google ads. However, the difference between the 2nd channel and 3rd channel is almost ~15%. Only 5.33% of the total customers have made more than one purchase.</p>
            
            <img src="https://i.postimg.cc/fLxf4hdz/Image12.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>LTV by customer</em></p>

            <p>Life span days for each customer are calculated based on their purchase data, LTV calculation in this case is useless as most of the customers are one-time buyers till date.</p>

            <p><strong>ii. Recency, Frequency and Monetary Segmentation model (RFM):</strong>
            <img src="https://i.postimg.cc/90xB4W1w/Image13.png" alt="Analysis Results">
            </p><p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>RFM model results</em></p>
            
            <p>Each behavior is categorized into 4 different quartiles. For reference: 
               Recency â€“ How recent the customers made a purchase (lower = more recent)
               Frequency â€“ How many times did they make a purchase (lower = more active)
               Monetary â€“ How much do they spend in total with their purchase (lower = high spender)
               This score across the 3 metrics helps create behavior-based segments like Champions (1-1-1) and At risk customers (3/4, 3/5, 3/4).</p>

            <p>As seen in previous analysis, the business has lot of newly acquired customers so we have high number of customers falling in the (R1F1M1-4) category. Opportunities lies for improvement with customers that are in the (R2F2M1-4) category by analyzing gaps in their purchase experience and sentiment analysis. There are 177 customers in the R3F3 or R4F4 category which are the least profitable and budget allocation to this category should be carefully implemented as these can be no longer interested cohort.</p>

            <p><strong>iii. Cohort Retention Analysis:</strong>
            
            <img src="https://i.postimg.cc/nc2LDXvv/Image14.png" alt="Analysis Results">
            </p><p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Purchase behavior</em></p>

            <p>Cohort Analysis understanding: In simple ways cohort analysis can be thought of grouping your customers from their start date and tracking their behavior over time. 
            RFM: Taking a snapshot of customers TODAY 
            Cohort: Making a movie of their behavior over TIME
            Types of Cohorts: Time-based â€“ Grouping by when they first purchased (acquisition date)
            Behavior-based â€“ Group by their first action or characteristic
           
           </p><ul>
            RFM tells you:
            
            <li>Who your best customers are RIGHT NOW</li>
            <li>What their current value is</li>
           <li>How to segment them for targeted campaigns</li>
            </ul>
            <ul>
            Cohort Analysis tells you:

            <li>When customers tend to drop off</li>
            <li>How long different segments stay valuable</li>
            <li>Whether new cohorts behave better/worse than older ones</li>
            </ul>
            In this case Cohort analysis has been implemented using time-based data as customers are grouped by their first month of purchase (cohort month) and then tracking how many subsequent months they remain active.<p></p>

            <img src="https://i.postimg.cc/63x0GbKJ/Image15.png" alt="Analysis Results">
            <p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Cohorts</em></p>

            <p>The quantiles here are split into 5 equal groups as there are 375 customers and the spending resembles pareto distribution where 20% of the customers are bringing in 80% of the revenue for the business. The difference between the loyalists and low/one-time spenders is that loyalists outspend them by 51% suggesting there is lot of gaps for the business to fill between 1-3 quartiles.</p>

            <p><strong>iv. Top products by Customer segments:</strong>

            <img src="https://i.postimg.cc/QxST38d3/Image16.png" alt="Analysis Results">
            </p><p style="font-size: 0.9rem; color: #94a3b8; text-align: center;"><em>Top products by segments</em></p>
            
            <p>ShipStream is the top product that has generated the most revenue for 5 out of 7 customer segments which indicates it is a popular product. On average it accounts for 60% of the revenue across the segments. All the New customers have just purchased one product which is ProspectHub and it generates the lowest revenue among all the other top products. In terms of trend, for all the segments the top 2 products generate the majority of the revenue than the remaining in the archetypes.</p>
          </div>
        </div>
      </div>

      <!-- PRESENTATION SECTION -->
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Dashboard Presentation &amp; Final recommendations
        </button>
        <div class="accordion-content">
          <div class="presentation-container">
              <h4 style="color: #60a5fa; margin-bottom: 1rem;" class="anchored">Dashboard Walkthrough Video</h4>
                 <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #0f172a;">
              <iframe src="https://www.loom.com/share/f8aad7a4e6a94eeda73c9fec650b5917" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"> 
              </iframe>
            </div>

              <ul>
              <p><strong><em>Final recommendations:</em></strong>
                </p><li>Collect session &amp; user journey data on the website to find gaps in the user experience specifically for At churn risk customers</li>
                <li>Build post-purchase experience stack like email/SMS flows (how-to, reshare UGC, cross-sell etc) to target the first 30 to 60 days and lift the repeat purchase rate from 5.33% to 8-10%. Track the cohort M+1 â€“ M+3 after these efforts for the repeat purchase rate.</li>
                <li>Set a KPI benchmark to grow Championsâ€™ share of revenue and measure the incremental AOV and revenue as well as order frequency after attempting these efforts. Providing early access to Championsâ€™, limited edition drops and exclusive surprises to top their experience.</li>
                <li>RFM archetypes can be used to redefine the homepage modules with favorite packs or promotional offers and cross-sell blocks. For example, Championsâ€™ would look at premium bundles whereas one purchase wonders would look at exclusive enticing offers that force them to make the move. At churn risk customers will look for promotional offers</li>
                <li>In terms of the other products, analyze the products that donâ€™t make large share of revenue to see if they are one-time purchase by nature or if there is potential to improve the product or how they are put on the shelf.</li>
              </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<section id="ab-testing" class="level1">
<h1>A/B Testing of Advertising Campaign Results</h1>
<div class="project-item" id="project-item-abtesting">
  <div class="project-card" onclick="toggleProjectDetails('project-abtesting')">
    <div class="project-card-content">
      <div class="project-cover">
        <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=80" alt="A/B Testing">
      </div>
      <div class="project-info">
        <div class="project-title">
          <h3 class="anchored" data-anchor-id="ab-testing">A/B Testing of Advertising Campaign Results</h3>
        </div>
        <p class="project-description-short">
          Designing and analyzing A/B tests for advertising campaigns to measure effectiveness, optimize ad spend, and identify the most impactful creative and targeting strategies.
        </p>
        <div class="project-links">
          <a href="https://github.com/yourusername/ab-testing" class="project-link" onclick="event.stopPropagation()">
            <i class="fab fa-github"></i> GitHub
          </a>
          <a href="https://public.tableau.com/your-dashboard" class="project-link" onclick="event.stopPropagation()">
            <i class="fas fa-chart-pie"></i> Tableau
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="project-abtesting" class="project-details">
    <div class="details-content">
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Business Problem and Stakeholders Questions
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about business problem and stakeholder questions will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Requirements &amp; Gathering
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data requirements and gathering process will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Analysis
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data analysis methodology and findings will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Presentation
        </button>
        <div class="accordion-content">
          <div class="presentation-container">
            <div class="placeholder-video">
              <i class="fas fa-play-circle" style="font-size: 3rem; margin-right: 1rem;"></i>
              Dashboard/Video Presentation will be embedded here
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<section id="nhl-salary" class="level1">
<h1>NHL Player Salary Prediction Analysis</h1>
<div class="project-item" id="project-item-nhl">
  <div class="project-card" onclick="toggleProjectDetails('project-nhl')">
    <div class="project-card-content">
      <div class="project-cover">
        <img src=".assets/images/NHL_image.jpg" alt="Ice Hockey Analytics">
      </div>
      <div class="project-info">
        <div class="project-title">
          <h3 class="anchored" data-anchor-id="nhl-salary">NHL Player Salary Prediction Analysis</h3>
        </div>
        <p class="project-description-short">
          Building predictive models to forecast NHL player salaries based on performance metrics, team statistics, and market factors to support contract negotiations and team budgeting.
        </p>
        <div class="project-links">
          <a href="https://github.com/yourusername/nhl-salary" class="project-link" onclick="event.stopPropagation()">
            <i class="fab fa-github"></i> GitHub
          </a>
          <a href="https://lookerstudio.google.com/your-report" class="project-link" onclick="event.stopPropagation()">
            <i class="fab fa-google"></i> Looker Studio
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="project-nhl" class="project-details">
    <div class="details-content">
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Business Problem and Stakeholders Questions
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about business problem and stakeholder questions will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Requirements &amp; Gathering
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data requirements and gathering process will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Analysis
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data analysis methodology and findings will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Presentation
        </button>
        <div class="accordion-content">
          <div class="presentation-container">
            <div class="placeholder-video">
              <i class="fas fa-play-circle" style="font-size: 3rem; margin-right: 1rem;"></i>
              Dashboard/Video Presentation will be embedded here
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<section id="covid-analysis" class="level1">
<h1>Covid-19 Testing Capacity and Resource Allocation Analysis</h1>
<div class="project-item" id="project-item-covid">
  <div class="project-card" onclick="toggleProjectDetails('project-covid')">
    <div class="project-card-content">
      <div class="project-cover">
        <img src="https://images.unsplash.com/photo-1584036561566-baf8f5f1b144?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=80" alt="Healthcare Analytics">
      </div>
      <div class="project-info">
        <div class="project-title">
          <h3 class="anchored" data-anchor-id="covid-analysis">Covid-19 Testing Capacity and Resource Allocation Analysis</h3>
        </div>
        <p class="project-description-short">
          Analyzing testing capacity data and resource allocation patterns to optimize public health response and ensure efficient distribution of testing resources during the pandemic.
        </p>
        <div class="project-links">
          <a href="https://github.com/yourusername/covid-analysis" class="project-link" onclick="event.stopPropagation()">
            <i class="fab fa-github"></i> GitHub
          </a>
          <a href="https://app.powerbi.com/your-dashboard" class="project-link" onclick="event.stopPropagation()">
            <i class="fas fa-chart-bar"></i> Power BI
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="project-covid" class="project-details">
    <div class="details-content">
      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Business Problem and Stakeholders Questions
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about business problem and stakeholder questions will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Requirements &amp; Gathering
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data requirements and gathering process will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Data Analysis
        </button>
        <div class="accordion-content">
          <div class="content-section">
            <p>Content about data analysis methodology and findings will go here...</p>
          </div>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          Presentation
        </button>
        <div class="accordion-content">
          <div class="presentation-container">
            <div class="placeholder-video">
              <i class="fas fa-play-circle" style="font-size: 3rem; margin-right: 1rem;"></i>
              Dashboard/Video Presentation will be embedded here
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
let activeProject = null;
let activeAccordion = null;

function toggleProjectDetails(projectId) {
  const projectElement = document.getElementById(projectId);
  const projectItem = projectElement.parentElement;
  
  // Close currently active project
  if (activeProject && activeProject !== projectId) {
    const currentProjectElement = document.getElementById(activeProject);
    const currentProjectItem = currentProjectElement.parentElement;
    currentProjectElement.classList.remove('active');
    currentProjectItem.classList.remove('active');
    
    // Close all accordions in the previous project
    const accordions = currentProjectElement.querySelectorAll('.accordion-content');
    accordions.forEach(accordion => {
      accordion.classList.remove('active');
    });
    
    const headers = currentProjectElement.querySelectorAll('.accordion-header');
    headers.forEach(header => {
      header.classList.remove('active');
    });
  }
  
  // Toggle current project
  const isCurrentlyActive = projectElement.classList.contains('active');
  
  if (!isCurrentlyActive) {
    projectElement.classList.add('active');
    projectItem.classList.add('active');
    activeProject = projectId;
  } else {
    projectElement.classList.remove('active');
    projectItem.classList.remove('active');
    activeProject = null;
  }
  
  activeAccordion = null;
}

function toggleAccordion(button) {
  const content = button.nextElementSibling;
  const isCurrentlyActive = content.classList.contains('active');
  
  // Close currently active accordion in the same project
  if (activeAccordion && activeAccordion !== content) {
    activeAccordion.classList.remove('active');
    activeAccordion.previousElementSibling.classList.remove('active');
  }
  
  // Toggle current accordion
  if (!isCurrentlyActive) {
    content.classList.add('active');
    button.classList.add('active');
    activeAccordion = content;
  } else {
    content.classList.remove('active');
    button.classList.remove('active');
    activeAccordion = null;
  }
}

// Smooth scroll to project when TOC link is clicked
document.addEventListener('DOMContentLoaded', function() {
  const tocLinks = document.querySelectorAll('nav[data-toc] a[href^="#"]');
  tocLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      if (targetElement) {
        targetElement.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
});
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/hiten317\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>